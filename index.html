<!DOCTYPE html>
<html lang="ja">

<head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-78911133-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'UA-78911133-1');
    </script>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>男メイド</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" media="screen" href="/common.css" />
    <link rel="stylesheet" type="text/css" media="screen" href="index.css" />
    <script defer src="https://use.fontawesome.com/releases/v5.0.12/js/all.js" integrity="sha384-Voup2lBiiyZYkRto2XWqbzxHXwzcm4A5RfdfG6466bu5LqjwwrjXCMBQBLMWh7qR"
        crossorigin="anonymous"></script>
    <script async src="tags/dm-tags.js"></script>
</head>

<body>
    <header class="header">
        <h1>
            <a href="/">男メイド</a>
        </h1>
    </header>


    <main class="contents-container">
        <article class="card" id="about">
            <h2 class="title">
                <i class="fas fa-question mark"></i>男メイドとは
            </h2>
            <section class="content center">
                ３歩下がってついていく。
                <ul class="contact-list">
                    <li class="contact">
                        <a href="https://don.danmaid.com/@yamada">
                            <i class="fab fa-mastodon"></i>
                        </a>
                    </li>
                    <li class="contact">
                        <a href="https://twitter.com/danmaid69">
                            <i class="fab fa-twitter"></i>
                        </a>
                    </li>
                </ul>
            </section>
        </article>

        <article class="card" id="don-timeline">
            <a href="https://don.danmaid.com/">
                <h2 class="title">
                    <img alt="Mastodon" src="https://don.danmaid.com/packs/logo_full-96e7a97fe469f75a23a74852b2478fa3.svg" class="logo">
                    <i class="fas fa-comments mark"></i>最近の話題
                </h2>
            </a>
            <dm-don-timeline class="content"></dm-don-timeline>
        </article>

        <article class="card" id="crypto">
            <a href="https://crypto.danmaid.com/">
                <h2 class="title">
                    <i class="fab fa-bitcoin mark"></i>暗号通貨（仮想通貨）
                </h2>
                <section class="content">
                    <p>暗号通貨でデータ分析や自動取引を行うための基盤となるツールを提供しています。</p>
                    <div class="ltp-item">
                        bitfinex
                        <i class="fab fa-btc"></i>
                        /
                        <i class="fas fa-dollar-sign"></i>
                        <span id="bitfinex"></span>
                    </div>
                    <div class="ltp-item">
                        bitFlyer
                        <i class="fab fa-btc"></i>
                        /
                        <i class="fas fa-yen-sign"></i>
                        <span id="bitflyer"></span>
                    </div>
                    <div class="update title">コンテンツ更新履歴</div>
                    <section class="update content" id="update"></section>
                </section>
            </a>
        </article>

        <article class="card" id="labo">
            <h2 class="title">
                <i class="fas fa-flask mark"></i>ラボ
            </h2>
            <section class="content">
                <p>有料サービスを含む各種クラウドサービスやプロダクト等をラボメン向けに提供しています。</p>
            </section>
        </article>

        <article class="card" id="blog">
            <a href="https://blog.danmaid.com/">
                <h2 class="title">
                    <i class="fas fa-tags mark"></i>ブログ
                </h2>
            </a>
            <section class="content">
                <section class="update" id="update"></section>
            </section>
        </article>

        <article class="card" id="update">
            <h2 class="title">
                <i class="fas fa-info-circle mark"></i>更新履歴
            </h2>
            <section class="content">
                <section class="update" id="update"></section>
            </section>
        </article>
    </main>

    <dm-footer></dm-footer>

    <!-- サイトコンテンツ -->
    <script type="riot/tag" src="dm-don.tag"></script>
    <script type="riot/tag" src="dm-update.tag"></script>

    <script src="https://cdn.jsdelivr.net/npm/riot/riot+compiler.min.js"></script>

    <script>
        riot.compile(() => {
            fetch('https://api.github.com/repos/danmaid/crypto.danmaid.com/commits')
                .then(r => r.json())
                .then(x => riot.mount('#crypto #update', 'dm-update-github', { data: x }));
            fetch('https://api.github.com/repos/danmaid/www.danmaid.com/commits')
                .then(r => r.json())
                .then(x => riot.mount('#update #update', 'dm-update-github', { data: x }));
            fetch('https://blog.danmaid.com/wp-json/wp/v2/posts')
                .then(r => r.json())
                .then(x => riot.mount('#blog #update', 'dm-update-wordpress', { data: x }));
            riot.mount('*');
        });
    </script>

    <script src="https://unpkg.com/event-target@latest/min.js"></script>
    <script src="https://crypto.danmaid.com/modules/src/executions3.js"></script>
    <script>
        let bitfinex = new bitfinex_BTC_USD()
        let bitfinex_price = document.getElementById('bitfinex')
        bitfinex.addEventListener('message', (e) => {
            bitfinex_price.textContent = e.detail.price
        })
        let bitflyer = new bitflyer_BTC_JPY()
        let bitflyer_price = document.getElementById('bitflyer')
        bitflyer.addEventListener('message', (e) => {
            bitflyer_price.textContent = e.detail.price
        })
    </script>
</body>

</html>