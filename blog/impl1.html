<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>新着記事一覧の表示機能 | ブログ実装検討 | ブログ | 男メイド</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" media="screen" href="/common.css" />
    <script defer src="https://use.fontawesome.com/releases/v5.0.8/js/fontawesome.js" integrity="sha384-7ox8Q2yzO/uWircfojVuCQOZl+ZZBg2D2J5nkpLqzH1HY0C1dHlTKIbpRz/LG23c"
        crossorigin="anonymous"></script>
    <script defer src="https://use.fontawesome.com/releases/v5.0.8/js/regular.js" integrity="sha384-t7yHmUlwFrLxHXNLstawVRBMeSLcXTbQ5hsd0ifzwGtN7ZF7RZ8ppM7Ldinuoiif"
        crossorigin="anonymous"></script>
</head>

<body>
    <header class="header">
        <h1>
            新着記事一覧の表示機能 | ブログ実装検討 |
            <a href="/blog">ブログ</a> |
            <a href="/">男メイド</a>
        </h1>
    </header>

    <main>
        <p>男メイドトップページにカードっぽく出してるやつ。</p>
        <h2>現状</h2>
        <img src="blog1.png" />
        <script src="https://gist.github.com/danmaid/c6f08e641e1c2c3d7376b8e5f07ecf35.js"></script>
        <p>htmlの9行目に対して、jsでgithubからコミット履歴とってきて当て込んでる。</p>
        <script src="https://gist.github.com/danmaid/7048721bde4be90041dc01b0c940762a.js"></script>
        <p>ひとまず単純にコミットメッセージを出してるだけ。</p>
        <h2>実装案</h2>
        <p>コミットログから変更があったファイルを取得して、更新日付と各ファイルの記事名を並べてリンク張ればいいかと。</p>
        <h2>課題</h2>
        <ol>
            <li>変更があったファイルをどうやって取得するか。/blog以下に限定して。</li>
            <li>記事名をどうするか。</li>
        </ol>
        <h3>課題検討</h3>
        <p>2.について、コンテンツになるHTMLにルールを作るのが簡単だけど柔軟性に欠ける。それってつまりマークダウン記法作ってるのと変わりないかと。HTMLを解析して記事名を抽出する方針がいいと思う。全部のHTMLを取得してクライアント側で解析すると転送量も処理量も増えて閲覧側に余計な負荷がかかるので、事前に抽出してサーバ側にため込む方式がいいか。</p>
    </main>

    <footer class="footer"></footer>

    <script src="https://cdn.jsdelivr.net/npm/riot/riot+compiler.min.js"></script>
    <script type="riot/tag" src="/common.tag"></script>
    <script>riot.mount('*')</script>
</body>

</html>